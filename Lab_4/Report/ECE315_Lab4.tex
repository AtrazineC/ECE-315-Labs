\documentclass[11pt, letterpaper, titlepage]{article}
\usepackage[utf8]{inputenc}
\usepackage{geometry}
\usepackage{color,graphicx,overpic} 
\usepackage{fancyhdr}
\usepackage{amsmath,amsthm,amsfonts,amssymb}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{multicol}
\usepackage{array}
\usepackage{float}
\usepackage{blindtext}
\usepackage{longtable}
\usepackage{scrextend}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{calc}
\usepackage{titlesec}
\usepackage{listings}
\usepackage[normalem]{ulem}
\usepackage{tabularx}
\usepackage{mathrsfs}
\usepackage{bookmark}
\usepackage{setspace}
\usepackage{tabularx}
\usepackage{ltablex}
\usepackage{siunitx}
\usepackage{enumitem}
\usepackage{minted}
\usepackage[simplified]{pgf
-umlcd}

\mathtoolsset{showonlyrefs}  
\allowdisplaybreaks
\definecolor{mycolor}{rgb}{0, 0, 0}

\geometry{top=2.54cm, left=2.54cm, right=2.54cm, bottom=2.54cm}
\setlength{\headheight}{20pt}
\setlength{\parskip}{0.5cm}
\setlength{\parindent}{0pt}


\definecolor{bg}{rgb}{0.95,0.95,0.95}

\usemintedstyle{vs}
\setminted{linenos, fontsize=\footnotesize}
\setmintedinline{bgcolor=bg, style=bw, fontsize=\normalsize}

% Line spacing
\renewcommand{\baselinestretch}{1.3} 

% Title page
\title{\textbf{\Huge{ 
\begin{center}
ECE 315 Lab 4% Document name
\end{center} 
}}}

\author{Lora Ma \\ Benjamin Kong \\ \\ECE 315 Lab Section H41}

% Header/Footer
\pagestyle{fancy}
\fancyhf{}
\rhead{\thepage}
\lhead{\textit{ECE 315 - Lab 4}}
\rfoot{}

% Hyperlink colors
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=blue,      
    urlcolor=blue,
}

\begin{document}
\maketitle
\thispagestyle{empty}
\tableofcontents 
\newpage
\pagenumbering{arabic}

\section{Abstract}
The purpose of this lab was to 
\begin{itemize}
  \item gain experience using a microcontroller, running the FreeRTOS real-time kernel, to control the operation of a small stepper motor
  \item to enhance the user interface of a stepper motor control application on the Zybo Z7.
  \item gain experience with measuring experimentally the speed and acceleration limits of a small stepper motor.
\end{itemize}
We will be using the Zybo Z7 development board by Digilent. The board is built around the Xilinx Zynq-7010 System-on-Chip silicon chip and contains two 667 MHz ARM Cortex A9 32-bit CPUs. For this lab, we will be using CPU0 to run the FreeRTOS real-time kernel. We will also be using one 28BYJ-48 stepper motor with unipolar drive windings, one 5-V DV power supply, one ULN2003-based driver module, one breadboard, one LTV-847 opto-isolator transistor array, four 220-ohm resistors, four $\SI{10}{k\ohm}$ resistors, and wires

In this lab, we will be completing two exercises. In exercise 1, we will be completing the FreeRTOS task \mintinline{text}{_Task_Motor()}, to rotate the stepper motor. This task is responsible for calling the necessary stepper functions to move the motor.

In exercise 2, we will be providing an emergency stop command for the stepper motor. We are implementing this function using one of the Zybo Z7 board's pushbuttons BTN0.

\section{Design}

\subsection{Exercise 1 Design}
We first completed the \mintinline{text}{_Task_Motor} function in \mintinline{text}{lab4_main.c}. Inside of the \mintinline{text}{while} loop, we wait until we read some motor parameters from FIFO1.

\subsection{Exercise 2 Design}


\section{Testing}

\subsection{Exercise 1 Tests}

\subsection{Exercise 2 Tests}

\section{Conclusion}
The purpose of this lab was to 
\begin{itemize}
  \item gain experience using a microcontroller, running the FreeRTOS real-time kernel, to control the operation of a small stepper motor
  \item to enhance the user interface of a stepper motor control application on the Zybo Z7.
  \item gain experience with measuring experimentally the speed and acceleration limits of a small stepper motor.
\end{itemize}

We believe we have fully completed the objectives of this lab.

In exercise 1 and 2, we gained experience using a microcontroller, running the FreeRTOS real-time kernel, to control the operation of a small stepper motor. We did this through setting up the microcontroller and stepper motor. We also wrote the \mintinline{text}{_Task_motor()} task which was responsible for calling the necessary stepper functions to move the motor. We also gained experience enhancing the user interface of a stepper motor control application on the Zybo Z7. We also gained experience in exercise 2 with measuring experimentally the speed and acceleration limits of a small stepper motor. We using BTN0 on the Zybo Z7 board's pushbuttons to initiate an emergency stop.

\section{Appendix}

\subsection{Exercise 1 Source Code}
The source code is in the file \mintinline{text}{spi_lab3_main.c} that was submitted along with this report.

\subsection{Exercise 2 Source Code}
The source code is in the file \mintinline{text}{load_gen_main.c} that was submitted along with this report.

\end{document}